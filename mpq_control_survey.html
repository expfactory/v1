<!DOCTYPE html><html class=''>
<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">
    <title>The Experiment Factory: Survey</title>
    

<link rel='stylesheet' type='text/css' href='https://code.getmdl.io/1.1.1/material.blue-red.min.css'>
<link rel='stylesheet' type='text/css' href='static/css/surveys.css'>
<link rel='stylesheet' type='text/css' href='static/js/jquery/ui/smoothness/jquery-ui-1.10.4.custom.min.css'>
</head>

<body>


<script src='static/js/jquery/jquery-2.1.1.min.js'></script>
<script src='https://code.getmdl.io/1.1.1/material.min.js'></script>
<script src='static/js/jquery/ui/jquery-ui-1.10.4.custom.min.js'></script>
<script src='static/js/jquery/jquery.wizard.js'></script>
<script src='static/js/jquery/form/jquery.form-3.50.js'></script>
<script src='static/js/jquery/validate/jquery.validate-1.12.0.min.js'></script>

<div class="experiment-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
<div class="experiment-ribbon"></div>
<main class="experiment-main mdl-layout__content">
<div class="experiment-container mdl-grid">
<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone">
</div>
<div class="experiment-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">

<div id="questions">

<form name="questions" action="#", method="POST">
<div class="step">
<h3>Welcome to this survey. Press <strong>Next</strong> to begin.</h3><br><br><br><br></div>
<div class="step">
<h3>Please answer each question by clicking 'True' or 'False' following the questions to indicate whether they are descriptive of you and your actions. There are no right or wrong answers, and no trick questions.</h3><br><br><br><br></div>
<div class="step">
<p id="mpq_control_survey_2_options">I stop one activity before completing it.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_2_0">
<input type="radio" id="option-mpq_control_survey_2_0" class="mdl-radio__button required page3" name="mpq_control_survey_2_options" value="2" meta-options="True|False" meta-text="I stop one activity before completing it.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_2_1">
<input type="radio" id="option-mpq_control_survey_2_1" class="mdl-radio__button required page3" name="mpq_control_survey_2_options" value="1" meta-options="True|False" meta-text="I stop one activity before completing it.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_3_options">I take time to consider all aspects.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_3_0">
<input type="radio" id="option-mpq_control_survey_3_0" class="mdl-radio__button required page3" name="mpq_control_survey_3_options" value="1" meta-options="True|False" meta-text="I take time to consider all aspects.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_3_1">
<input type="radio" id="option-mpq_control_survey_3_1" class="mdl-radio__button required page3" name="mpq_control_survey_3_options" value="2" meta-options="True|False" meta-text="I take time to consider all aspects.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_4_options">I think before doing.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_4_0">
<input type="radio" id="option-mpq_control_survey_4_0" class="mdl-radio__button required page3" name="mpq_control_survey_4_options" value="1" meta-options="True|False" meta-text="I think before doing.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_4_1">
<input type="radio" id="option-mpq_control_survey_4_1" class="mdl-radio__button required page3" name="mpq_control_survey_4_options" value="2" meta-options="True|False" meta-text="I think before doing.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_5_options">I stop and think.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_5_0">
<input type="radio" id="option-mpq_control_survey_5_0" class="mdl-radio__button required page3" name="mpq_control_survey_5_options" value="1" meta-options="True|False" meta-text="I stop and think.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_5_1">
<input type="radio" id="option-mpq_control_survey_5_1" class="mdl-radio__button required page3" name="mpq_control_survey_5_options" value="2" meta-options="True|False" meta-text="I stop and think.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_6_options">I am fast and careless.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_6_0">
<input type="radio" id="option-mpq_control_survey_6_0" class="mdl-radio__button required page3" name="mpq_control_survey_6_options" value="2" meta-options="True|False" meta-text="I am fast and careless.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_6_1">
<input type="radio" id="option-mpq_control_survey_6_1" class="mdl-radio__button required page3" name="mpq_control_survey_6_options" value="1" meta-options="True|False" meta-text="I am fast and careless.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_7_options">I am never reckless.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_7_0">
<input type="radio" id="option-mpq_control_survey_7_0" class="mdl-radio__button required page3" name="mpq_control_survey_7_options" value="1" meta-options="True|False" meta-text="I am never reckless.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_7_1">
<input type="radio" id="option-mpq_control_survey_7_1" class="mdl-radio__button required page3" name="mpq_control_survey_7_options" value="2" meta-options="True|False" meta-text="I am never reckless.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_8_options">I buy something without thinking.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_8_0">
<input type="radio" id="option-mpq_control_survey_8_0" class="mdl-radio__button required page3" name="mpq_control_survey_8_options" value="2" meta-options="True|False" meta-text="I buy something without thinking.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_8_1">
<input type="radio" id="option-mpq_control_survey_8_1" class="mdl-radio__button required page3" name="mpq_control_survey_8_options" value="1" meta-options="True|False" meta-text="I buy something without thinking.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_9_options">I value rational approach.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_9_0">
<input type="radio" id="option-mpq_control_survey_9_0" class="mdl-radio__button required page3" name="mpq_control_survey_9_options" value="1" meta-options="True|False" meta-text="I value rational approach.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_9_1">
<input type="radio" id="option-mpq_control_survey_9_1" class="mdl-radio__button required page3" name="mpq_control_survey_9_options" value="2" meta-options="True|False" meta-text="I value rational approach.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br></div>
<div class="step">
<p id="mpq_control_survey_10_options">I do things on the spur of the moment.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_10_0">
<input type="radio" id="option-mpq_control_survey_10_0" class="mdl-radio__button required page4" name="mpq_control_survey_10_options" value="2" meta-options="True|False" meta-text="I do things on the spur of the moment.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_10_1">
<input type="radio" id="option-mpq_control_survey_10_1" class="mdl-radio__button required page4" name="mpq_control_survey_10_options" value="1" meta-options="True|False" meta-text="I do things on the spur of the moment.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_11_options">I am careful in reasoning.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_11_0">
<input type="radio" id="option-mpq_control_survey_11_0" class="mdl-radio__button required page4" name="mpq_control_survey_11_options" value="1" meta-options="True|False" meta-text="I am careful in reasoning.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_11_1">
<input type="radio" id="option-mpq_control_survey_11_1" class="mdl-radio__button required page4" name="mpq_control_survey_11_options" value="2" meta-options="True|False" meta-text="I am careful in reasoning.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_12_options">I am not as cautious.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_12_0">
<input type="radio" id="option-mpq_control_survey_12_0" class="mdl-radio__button required page4" name="mpq_control_survey_12_options" value="2" meta-options="True|False" meta-text="I am not as cautious.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_12_1">
<input type="radio" id="option-mpq_control_survey_12_1" class="mdl-radio__button required page4" name="mpq_control_survey_12_options" value="1" meta-options="True|False" meta-text="I am not as cautious.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_13_options">I am cautious person.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_13_0">
<input type="radio" id="option-mpq_control_survey_13_0" class="mdl-radio__button required page4" name="mpq_control_survey_13_options" value="1" meta-options="True|False" meta-text="I am cautious person.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_13_1">
<input type="radio" id="option-mpq_control_survey_13_1" class="mdl-radio__button required page4" name="mpq_control_survey_13_options" value="2" meta-options="True|False" meta-text="I am cautious person.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_14_options">I am a spontaneous person.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_14_0">
<input type="radio" id="option-mpq_control_survey_14_0" class="mdl-radio__button required page4" name="mpq_control_survey_14_options" value="2" meta-options="True|False" meta-text="I am a spontaneous person.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_14_1">
<input type="radio" id="option-mpq_control_survey_14_1" class="mdl-radio__button required page4" name="mpq_control_survey_14_options" value="1" meta-options="True|False" meta-text="I am a spontaneous person.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_15_options">I do the first thing that comes to mind.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_15_0">
<input type="radio" id="option-mpq_control_survey_15_0" class="mdl-radio__button required page4" name="mpq_control_survey_15_options" value="2" meta-options="True|False" meta-text="I do the first thing that comes to mind.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_15_1">
<input type="radio" id="option-mpq_control_survey_15_1" class="mdl-radio__button required page4" name="mpq_control_survey_15_options" value="1" meta-options="True|False" meta-text="I do the first thing that comes to mind.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_16_options">I keep close track of money.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_16_0">
<input type="radio" id="option-mpq_control_survey_16_0" class="mdl-radio__button required page4" name="mpq_control_survey_16_options" value="1" meta-options="True|False" meta-text="I keep close track of money.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_16_1">
<input type="radio" id="option-mpq_control_survey_16_1" class="mdl-radio__button required page4" name="mpq_control_survey_16_options" value="2" meta-options="True|False" meta-text="I keep close track of money.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_17_options">I play things by ear.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_17_0">
<input type="radio" id="option-mpq_control_survey_17_0" class="mdl-radio__button required page4" name="mpq_control_survey_17_options" value="2" meta-options="True|False" meta-text="I play things by ear.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_17_1">
<input type="radio" id="option-mpq_control_survey_17_1" class="mdl-radio__button required page4" name="mpq_control_survey_17_options" value="1" meta-options="True|False" meta-text="I play things by ear.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br></div>
<div class="step">
<p id="mpq_control_survey_18_options">I know how to proceed.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_18_0">
<input type="radio" id="option-mpq_control_survey_18_0" class="mdl-radio__button required page5" name="mpq_control_survey_18_options" value="1" meta-options="True|False" meta-text="I know how to proceed.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_18_1">
<input type="radio" id="option-mpq_control_survey_18_1" class="mdl-radio__button required page5" name="mpq_control_survey_18_options" value="2" meta-options="True|False" meta-text="I know how to proceed.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_19_options">I am very level-headed.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_19_0">
<input type="radio" id="option-mpq_control_survey_19_0" class="mdl-radio__button required page5" name="mpq_control_survey_19_options" value="1" meta-options="True|False" meta-text="I am very level-headed.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_19_1">
<input type="radio" id="option-mpq_control_survey_19_1" class="mdl-radio__button required page5" name="mpq_control_survey_19_options" value="2" meta-options="True|False" meta-text="I am very level-headed.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_20_options">I organize my work.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_20_0">
<input type="radio" id="option-mpq_control_survey_20_0" class="mdl-radio__button required page5" name="mpq_control_survey_20_options" value="1" meta-options="True|False" meta-text="I organize my work.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_20_1">
<input type="radio" id="option-mpq_control_survey_20_1" class="mdl-radio__button required page5" name="mpq_control_survey_20_options" value="2" meta-options="True|False" meta-text="I organize my work.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_21_options">I often start projects.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_21_0">
<input type="radio" id="option-mpq_control_survey_21_0" class="mdl-radio__button required page5" name="mpq_control_survey_21_options" value="2" meta-options="True|False" meta-text="I often start projects.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_21_1">
<input type="radio" id="option-mpq_control_survey_21_1" class="mdl-radio__button required page5" name="mpq_control_survey_21_options" value="1" meta-options="True|False" meta-text="I often start projects.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_22_options">I am methodical.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_22_0">
<input type="radio" id="option-mpq_control_survey_22_0" class="mdl-radio__button required page5" name="mpq_control_survey_22_options" value="1" meta-options="True|False" meta-text="I am methodical.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_22_1">
<input type="radio" id="option-mpq_control_survey_22_1" class="mdl-radio__button required page5" name="mpq_control_survey_22_options" value="2" meta-options="True|False" meta-text="I am methodical.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_23_options">I do not have detailed plans.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_23_0">
<input type="radio" id="option-mpq_control_survey_23_0" class="mdl-radio__button required page5" name="mpq_control_survey_23_options" value="2" meta-options="True|False" meta-text="I do not have detailed plans.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_23_1">
<input type="radio" id="option-mpq_control_survey_23_1" class="mdl-radio__button required page5" name="mpq_control_survey_23_options" value="1" meta-options="True|False" meta-text="I do not have detailed plans.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_24_options">I have a good idea of what I'm going to do.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_24_0">
<input type="radio" id="option-mpq_control_survey_24_0" class="mdl-radio__button required page5" name="mpq_control_survey_24_options" value="1" meta-options="True|False" meta-text="I have a good idea of what I'm going to do.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_24_1">
<input type="radio" id="option-mpq_control_survey_24_1" class="mdl-radio__button required page5" name="mpq_control_survey_24_options" value="2" meta-options="True|False" meta-text="I have a good idea of what I'm going to do.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="mpq_control_survey_25_options">I like to find out what to expect.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_25_0">
<input type="radio" id="option-mpq_control_survey_25_0" class="mdl-radio__button required page5" name="mpq_control_survey_25_options" value="1" meta-options="True|False" meta-text="I like to find out what to expect.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-mpq_control_survey_25_1">
<input type="radio" id="option-mpq_control_survey_25_1" class="mdl-radio__button required page5" name="mpq_control_survey_25_options" value="2" meta-options="True|False" meta-text="I like to find out what to expect.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br></div>
<div class="step">
<h3>Congratulations for completing this survey! Press <strong>finish</strong> to continue.</h3><br><br><br><br></div>

<div class="navigation">
    <ul class="clearfix">
        <li><button type="button" name="backward" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent backward">Previous</button></li>
	<li><button type="button" name="forward" class="forward mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Next</button></li>
        <li><button type="submit" name="process" class="submit mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Finish</button></li>
    </ul>
</div>

<div class="pad">
    <div id="progressbar"></div>
</div>
</form>
</div>

<script>
$( document ).ready(function() {

    expfactory_finished = false;

    // Basic wizard with progress bar
    $( "#progressbar" ).progressbar();
    $( "#questions" ).wizard({
        stepsWrapper: "#wrapped",
	submit: ".submit",
	beforeForward: function( event, state ) {

            // Function to add message that answer is required
            function is_required(elements){
                var missing = false;
                elements.each(function(index,element){
                    var pid = "#" + $(element).attr("name")
                    $(pid).css("color","red")
                    missing = true;                   
                });

                if (missing == true){
                   alert("Please answer all required questions in red.");
                }
            }

             if ( state.stepIndex === 3 ) {
 if (($.unique($(`.page3.required[type=number],.page3.required:text`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required[type=number], [meta-text*="` + this + `"].required:text`).filter(function() { return $(this).val();}).length > 0}).get().indexOf(false) != -1) || ($.unique($(`.page3.required:not([type=number]):not(:text)`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required:checked`).length > 0}).get().indexOf(false) != -1)){
is_required($(`.page3.required:not(checked)`));
return false;
}} else if ( state.stepIndex === 4 ) {
 if (($.unique($(`.page4.required[type=number],.page4.required:text`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required[type=number], [meta-text*="` + this + `"].required:text`).filter(function() { return $(this).val();}).length > 0}).get().indexOf(false) != -1) || ($.unique($(`.page4.required:not([type=number]):not(:text)`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required:checked`).length > 0}).get().indexOf(false) != -1)){
is_required($(`.page4.required:not(checked)`));
return false;
}} else if ( state.stepIndex === 5 ) {
 if (($.unique($(`.page5.required[type=number],.page5.required:text`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required[type=number], [meta-text*="` + this + `"].required:text`).filter(function() { return $(this).val();}).length > 0}).get().indexOf(false) != -1) || ($.unique($(`.page5.required:not([type=number]):not(:text)`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required:checked`).length > 0}).get().indexOf(false) != -1)){
is_required($(`.page5.required:not(checked)`));
return false;
 } else {
expfactory_finished=true;
}}

	    return !!$( this ).wizard( "form" ).valid();
        },
	afterSelect: function( event, state ) {
	    $( "#progressbar" ).progressbar( "value", state.percentComplete );
            if (expfactory_finished == true){
                $(".submit").enable();
            }
        }

    // Form submission
    }).wizard( "form" ).submit(function( event ) {
	event.preventDefault();
        
        // Save data to browser
        var $inputs = $("input:checked");
        var $text = $("input:text")
	var $number = $("input[type = number]")
        var $elements = $inputs.add($text).add($number)
        
        var results = []
        $elements.each(function(index, element) {
          var result = {}

          if ($.inArray( $(element).attr("name"), [ "forward", "backward", "process"] ) == -1) {
              result.name = $(element).attr("name");
              if ($(element).attr("value") == undefined) {
                result.value = $(element).val();
                } else {
                    result.value = $(element).attr("value");
                }
              result.options = $(element).attr("meta-options");
              result.text = $(element).attr("meta-text");
              results.push(result);
          }
        })

        var data = "text/json;charset=utf-8," + JSON.stringify(results);
        var a = document.createElement('a');
        a.title = "Download"
        a.id = "download"
        a.type = "button"
        a.download = 'expfactory_result.json';
        a.href = 'data:' + data;
        $(".submit").html("Download")
        $(".submit").click(function(){
            $("body").append(a)
            a.click()
        })


     // Validation
     }).validate({
	errorPlacement: function( error, element ) {
	    if ( element.is( ":radio" ) || element.is( ":checkbox" ) ) {
		error.insertBefore( element.next() );
            } else {
	        error.insertAfter( element );
	 }
      }
  });
});
</script>
</body>
</html>
