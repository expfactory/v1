<!DOCTYPE html><html class=''>
<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">
    <title>The Experiment Factory: Survey</title>
    

<link rel='stylesheet' type='text/css' href='https://code.getmdl.io/1.1.1/material.blue-red.min.css'>
<link rel='stylesheet' type='text/css' href='static/css/surveys.css'>
<link rel='stylesheet' type='text/css' href='static/js/jquery/ui/smoothness/jquery-ui-1.10.4.custom.min.css'>
</head>

<body>


<script src='static/js/jquery/jquery-2.1.1.min.js'></script>
<script src='https://code.getmdl.io/1.1.1/material.min.js'></script>
<script src='static/js/jquery/ui/jquery-ui-1.10.4.custom.min.js'></script>
<script src='static/js/jquery/jquery.wizard.js'></script>
<script src='static/js/jquery/form/jquery.form-3.50.js'></script>
<script src='static/js/jquery/validate/jquery.validate-1.12.0.min.js'></script>

<div class="experiment-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--grey-100">
<div class="experiment-ribbon"></div>
<main class="experiment-main mdl-layout__content">
<div class="experiment-container mdl-grid">
<div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone">
</div>
<div class="experiment-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">

<div id="questions">

<form name="questions" action="#", method="POST">
<div class="step">
<h3>Welcome to this survey. Press <strong>Next</strong> to begin.</h3><br><br><br><br></div>
<div class="step">
<h3>For each of the following statements, please indicate whether you agree with them.</h3><br><br><br><br></div>
<div class="step">
<p id="dickman_survey_2_options">I don't like to make decisions quickly, even simple decisions, such as choosing what to wear, or what to have for dinner.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_2_0">
<input type="radio" id="option-dickman_survey_2_0" class="mdl-radio__button required page3" name="dickman_survey_2_options" value="1" meta-options="True|False" meta-text="I don't like to make decisions quickly, even simple decisions, such as choosing what to wear, or what to have for dinner.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_2_1">
<input type="radio" id="option-dickman_survey_2_1" class="mdl-radio__button required page3" name="dickman_survey_2_options" value="2" meta-options="True|False" meta-text="I don't like to make decisions quickly, even simple decisions, such as choosing what to wear, or what to have for dinner.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_3_options">I am good at taking advantage of unexpected opportunities,where you have to do something immediately or lose your chance.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_3_0">
<input type="radio" id="option-dickman_survey_3_0" class="mdl-radio__button required page3" name="dickman_survey_3_options" value="2" meta-options="True|False" meta-text="I am good at taking advantage of unexpected opportunities,where you have to do something immediately or lose your chance.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_3_1">
<input type="radio" id="option-dickman_survey_3_1" class="mdl-radio__button required page3" name="dickman_survey_3_options" value="1" meta-options="True|False" meta-text="I am good at taking advantage of unexpected opportunities,where you have to do something immediately or lose your chance.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_4_options">Most of the time, I can put my thoughts into words very rapidly.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_4_0">
<input type="radio" id="option-dickman_survey_4_0" class="mdl-radio__button required page3" name="dickman_survey_4_options" value="2" meta-options="True|False" meta-text="Most of the time, I can put my thoughts into words very rapidly.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_4_1">
<input type="radio" id="option-dickman_survey_4_1" class="mdl-radio__button required page3" name="dickman_survey_4_options" value="1" meta-options="True|False" meta-text="Most of the time, I can put my thoughts into words very rapidly.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_5_options">I am uncomfortable when l have to make up my mind rapidly.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_5_0">
<input type="radio" id="option-dickman_survey_5_0" class="mdl-radio__button required page3" name="dickman_survey_5_options" value="1" meta-options="True|False" meta-text="I am uncomfortable when l have to make up my mind rapidly.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_5_1">
<input type="radio" id="option-dickman_survey_5_1" class="mdl-radio__button required page3" name="dickman_survey_5_options" value="2" meta-options="True|False" meta-text="I am uncomfortable when l have to make up my mind rapidly.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_6_options">I like to take part in really fast-paced conversations, where you don't have much time to think before you speak.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_6_0">
<input type="radio" id="option-dickman_survey_6_0" class="mdl-radio__button required page3" name="dickman_survey_6_options" value="2" meta-options="True|False" meta-text="I like to take part in really fast-paced conversations, where you don't have much time to think before you speak.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_6_1">
<input type="radio" id="option-dickman_survey_6_1" class="mdl-radio__button required page3" name="dickman_survey_6_options" value="1" meta-options="True|False" meta-text="I like to take part in really fast-paced conversations, where you don't have much time to think before you speak.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_7_options">I don't like to do things quickly, even when I am doing something that is not very difficult.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_7_0">
<input type="radio" id="option-dickman_survey_7_0" class="mdl-radio__button required page3" name="dickman_survey_7_options" value="1" meta-options="True|False" meta-text="I don't like to do things quickly, even when I am doing something that is not very difficult.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_7_1">
<input type="radio" id="option-dickman_survey_7_1" class="mdl-radio__button required page3" name="dickman_survey_7_options" value="2" meta-options="True|False" meta-text="I don't like to do things quickly, even when I am doing something that is not very difficult.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_8_options">I would enjoy working at a job that required me to make a lot of split-second decisions.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_8_0">
<input type="radio" id="option-dickman_survey_8_0" class="mdl-radio__button required page3" name="dickman_survey_8_options" value="2" meta-options="True|False" meta-text="I would enjoy working at a job that required me to make a lot of split-second decisions.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_8_1">
<input type="radio" id="option-dickman_survey_8_1" class="mdl-radio__button required page3" name="dickman_survey_8_options" value="1" meta-options="True|False" meta-text="I would enjoy working at a job that required me to make a lot of split-second decisions.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_9_options">I like sports and games in which you have to choose your next move very quickly.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_9_0">
<input type="radio" id="option-dickman_survey_9_0" class="mdl-radio__button required page3" name="dickman_survey_9_options" value="2" meta-options="True|False" meta-text="I like sports and games in which you have to choose your next move very quickly.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_9_1">
<input type="radio" id="option-dickman_survey_9_1" class="mdl-radio__button required page3" name="dickman_survey_9_options" value="1" meta-options="True|False" meta-text="I like sports and games in which you have to choose your next move very quickly.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_10_options">I have often missed out on opportunities because I couldn't make up my mind fast enough.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_10_0">
<input type="radio" id="option-dickman_survey_10_0" class="mdl-radio__button required page3" name="dickman_survey_10_options" value="1" meta-options="True|False" meta-text="I have often missed out on opportunities because I couldn't make up my mind fast enough.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_10_1">
<input type="radio" id="option-dickman_survey_10_1" class="mdl-radio__button required page3" name="dickman_survey_10_options" value="2" meta-options="True|False" meta-text="I have often missed out on opportunities because I couldn't make up my mind fast enough.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_11_options">People have admired me because I can think quickly.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_11_0">
<input type="radio" id="option-dickman_survey_11_0" class="mdl-radio__button required page3" name="dickman_survey_11_options" value="2" meta-options="True|False" meta-text="People have admired me because I can think quickly.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_11_1">
<input type="radio" id="option-dickman_survey_11_1" class="mdl-radio__button required page3" name="dickman_survey_11_options" value="1" meta-options="True|False" meta-text="People have admired me because I can think quickly.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_12_options">I try to avoid activities where you have to act without much time to think first.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_12_0">
<input type="radio" id="option-dickman_survey_12_0" class="mdl-radio__button required page3" name="dickman_survey_12_options" value="1" meta-options="True|False" meta-text="I try to avoid activities where you have to act without much time to think first.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_12_1">
<input type="radio" id="option-dickman_survey_12_1" class="mdl-radio__button required page3" name="dickman_survey_12_options" value="2" meta-options="True|False" meta-text="I try to avoid activities where you have to act without much time to think first.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br></div>
<div class="step">
<p id="dickman_survey_13_options">I will often say whatever comes into my head without thinking first.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_13_0">
<input type="radio" id="option-dickman_survey_13_0" class="mdl-radio__button required page4" name="dickman_survey_13_options" value="2" meta-options="True|False" meta-text="I will often say whatever comes into my head without thinking first.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_13_1">
<input type="radio" id="option-dickman_survey_13_1" class="mdl-radio__button required page4" name="dickman_survey_13_options" value="1" meta-options="True|False" meta-text="I will often say whatever comes into my head without thinking first.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_14_options">I enjoy working out problems slowly and carefully.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_14_0">
<input type="radio" id="option-dickman_survey_14_0" class="mdl-radio__button required page4" name="dickman_survey_14_options" value="1" meta-options="True|False" meta-text="I enjoy working out problems slowly and carefully.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_14_1">
<input type="radio" id="option-dickman_survey_14_1" class="mdl-radio__button required page4" name="dickman_survey_14_options" value="2" meta-options="True|False" meta-text="I enjoy working out problems slowly and carefully.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_15_options">I frequently make appointments without thinking about whether I will be able to keep them.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_15_0">
<input type="radio" id="option-dickman_survey_15_0" class="mdl-radio__button required page4" name="dickman_survey_15_options" value="2" meta-options="True|False" meta-text="I frequently make appointments without thinking about whether I will be able to keep them.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_15_1">
<input type="radio" id="option-dickman_survey_15_1" class="mdl-radio__button required page4" name="dickman_survey_15_options" value="1" meta-options="True|False" meta-text="I frequently make appointments without thinking about whether I will be able to keep them.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_16_options">I frequently buy things without thinking about whether or not I can really afford them.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_16_0">
<input type="radio" id="option-dickman_survey_16_0" class="mdl-radio__button required page4" name="dickman_survey_16_options" value="2" meta-options="True|False" meta-text="I frequently buy things without thinking about whether or not I can really afford them.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_16_1">
<input type="radio" id="option-dickman_survey_16_1" class="mdl-radio__button required page4" name="dickman_survey_16_options" value="1" meta-options="True|False" meta-text="I frequently buy things without thinking about whether or not I can really afford them.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_17_options">I often make up my mind without taking the time to consider the situation from all angles.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_17_0">
<input type="radio" id="option-dickman_survey_17_0" class="mdl-radio__button required page4" name="dickman_survey_17_options" value="2" meta-options="True|False" meta-text="I often make up my mind without taking the time to consider the situation from all angles.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_17_1">
<input type="radio" id="option-dickman_survey_17_1" class="mdl-radio__button required page4" name="dickman_survey_17_options" value="1" meta-options="True|False" meta-text="I often make up my mind without taking the time to consider the situation from all angles.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_18_options">Often, I don't spend enough time thinking over a situation before I act.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_18_0">
<input type="radio" id="option-dickman_survey_18_0" class="mdl-radio__button required page4" name="dickman_survey_18_options" value="2" meta-options="True|False" meta-text="Often, I don't spend enough time thinking over a situation before I act.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_18_1">
<input type="radio" id="option-dickman_survey_18_1" class="mdl-radio__button required page4" name="dickman_survey_18_options" value="1" meta-options="True|False" meta-text="Often, I don't spend enough time thinking over a situation before I act.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_19_options">I often get into trouble because I don't think before I act.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_19_0">
<input type="radio" id="option-dickman_survey_19_0" class="mdl-radio__button required page4" name="dickman_survey_19_options" value="2" meta-options="True|False" meta-text="I often get into trouble because I don't think before I act.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_19_1">
<input type="radio" id="option-dickman_survey_19_1" class="mdl-radio__button required page4" name="dickman_survey_19_options" value="1" meta-options="True|False" meta-text="I often get into trouble because I don't think before I act.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_20_options">Many times the plans I make don't work out because I haven‘t gone over them carefully enough in advance.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_20_0">
<input type="radio" id="option-dickman_survey_20_0" class="mdl-radio__button required page4" name="dickman_survey_20_options" value="2" meta-options="True|False" meta-text="Many times the plans I make don't work out because I haven‘t gone over them carefully enough in advance.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_20_1">
<input type="radio" id="option-dickman_survey_20_1" class="mdl-radio__button required page4" name="dickman_survey_20_options" value="1" meta-options="True|False" meta-text="Many times the plans I make don't work out because I haven‘t gone over them carefully enough in advance.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_21_options">I rarely get involved in projects without first considering the potential problems.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_21_0">
<input type="radio" id="option-dickman_survey_21_0" class="mdl-radio__button required page4" name="dickman_survey_21_options" value="1" meta-options="True|False" meta-text="I rarely get involved in projects without first considering the potential problems.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_21_1">
<input type="radio" id="option-dickman_survey_21_1" class="mdl-radio__button required page4" name="dickman_survey_21_options" value="2" meta-options="True|False" meta-text="I rarely get involved in projects without first considering the potential problems.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_22_options">Before making any important decision, I carefully weigh the pros and cons.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_22_0">
<input type="radio" id="option-dickman_survey_22_0" class="mdl-radio__button required page4" name="dickman_survey_22_options" value="1" meta-options="True|False" meta-text="Before making any important decision, I carefully weigh the pros and cons.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_22_1">
<input type="radio" id="option-dickman_survey_22_1" class="mdl-radio__button required page4" name="dickman_survey_22_options" value="2" meta-options="True|False" meta-text="Before making any important decision, I carefully weigh the pros and cons.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_23_options">I am good at careful reasoning.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_23_0">
<input type="radio" id="option-dickman_survey_23_0" class="mdl-radio__button required page4" name="dickman_survey_23_options" value="1" meta-options="True|False" meta-text="I am good at careful reasoning.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_23_1">
<input type="radio" id="option-dickman_survey_23_1" class="mdl-radio__button required page4" name="dickman_survey_23_options" value="2" meta-options="True|False" meta-text="I am good at careful reasoning.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br>
<p id="dickman_survey_24_options">I often say and do things without considering the consequences.</p>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_24_0">
<input type="radio" id="option-dickman_survey_24_0" class="mdl-radio__button required page4" name="dickman_survey_24_options" value="2" meta-options="True|False" meta-text="I often say and do things without considering the consequences.">
<span class="mdl-radio__label">True</span>
</label>
<label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="option-dickman_survey_24_1">
<input type="radio" id="option-dickman_survey_24_1" class="mdl-radio__button required page4" name="dickman_survey_24_options" value="1" meta-options="True|False" meta-text="I often say and do things without considering the consequences.">
<span class="mdl-radio__label">False</span>
</label><br><br><br><br></div>
<div class="step">
<h3>Congratulations for completing this survey! Press <strong>finish</strong> to continue.</h3><br><br><br><br></div>

<div class="navigation">
    <ul class="clearfix">
        <li><button type="button" name="backward" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent backward">Previous</button></li>
	<li><button type="button" name="forward" class="forward mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Next</button></li>
        <li><button type="submit" name="process" class="submit mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Finish</button></li>
    </ul>
</div>

<div class="pad">
    <div id="progressbar"></div>
</div>
</form>
</div>

<script>
$( document ).ready(function() {

    expfactory_finished = false;

    // Basic wizard with progress bar
    $( "#progressbar" ).progressbar();
    $( "#questions" ).wizard({
        stepsWrapper: "#wrapped",
	submit: ".submit",
	beforeForward: function( event, state ) {

            // Function to add message that answer is required
            function is_required(elements){
                var missing = false;
                elements.each(function(index,element){
                    var pid = "#" + $(element).attr("name")
                    $(pid).css("color","red")
                    missing = true;                   
                });

                if (missing == true){
                   alert("Please answer all required questions in red.");
                }
            }

             if ( state.stepIndex === 3 ) {
 if (($.unique($(`.page3.required[type=number],.page3.required:text`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required[type=number], [meta-text*="` + this + `"].required:text`).filter(function() { return $(this).val();}).length > 0}).get().indexOf(false) != -1) || ($.unique($(`.page3.required:not([type=number]):not(:text)`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required:checked`).length > 0}).get().indexOf(false) != -1)){
is_required($(`.page3.required:not(checked)`));
return false;
}} else if ( state.stepIndex === 4 ) {
 if (($.unique($(`.page4.required[type=number],.page4.required:text`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required[type=number], [meta-text*="` + this + `"].required:text`).filter(function() { return $(this).val();}).length > 0}).get().indexOf(false) != -1) || ($.unique($(`.page4.required:not([type=number]):not(:text)`).map(function(){return $(this).attr(`meta-text`)})).map(function() {return $(`[meta-text*="` + this + `"].required:checked`).length > 0}).get().indexOf(false) != -1)){
is_required($(`.page4.required:not(checked)`));
return false;
 } else {
expfactory_finished=true;
}}

	    return !!$( this ).wizard( "form" ).valid();
        },
	afterSelect: function( event, state ) {
	    $( "#progressbar" ).progressbar( "value", state.percentComplete );
            if (expfactory_finished == true){
                $(".submit").enable();
            }
        }

    // Form submission
    }).wizard( "form" ).submit(function( event ) {
	event.preventDefault();
        
        // Save data to browser
        var $inputs = $("input:checked");
        var $text = $("input:text")
	var $number = $("input[type = number]")
        var $elements = $inputs.add($text).add($number)
        
        var results = []
        $elements.each(function(index, element) {
          var result = {}

          if ($.inArray( $(element).attr("name"), [ "forward", "backward", "process"] ) == -1) {
              result.name = $(element).attr("name");
              if ($(element).attr("value") == undefined) {
                result.value = $(element).val();
                } else {
                    result.value = $(element).attr("value");
                }
              result.options = $(element).attr("meta-options");
              result.text = $(element).attr("meta-text");
              results.push(result);
          }
        })

        var data = "text/json;charset=utf-8," + JSON.stringify(results);
        var a = document.createElement('a');
        a.title = "Download"
        a.id = "download"
        a.type = "button"
        a.download = 'expfactory_result.json';
        a.href = 'data:' + data;
        $(".submit").html("Download")
        $(".submit").click(function(){
            $("body").append(a)
            a.click()
        })


     // Validation
     }).validate({
	errorPlacement: function( error, element ) {
	    if ( element.is( ":radio" ) || element.is( ":checkbox" ) ) {
		error.insertBefore( element.next() );
            } else {
	        error.insertAfter( element );
	 }
      }
  });
});
</script>
</body>
</html>
